from transformers import MBartForConditionalGeneration, MBart50Tokenizer

# Load mBART model and tokenizer
model_name = "facebook/mbart-large-50-many-to-one-mmt"
tokenizer = MBart50Tokenizer.from_pretrained(model_name)
model = MBartForConditionalGeneration.from_pretrained(model_name)

# Set the source language to Telugu and target language to English
tokenizer.src_lang = "te_IN"

def translate(text):
    # Split text into lines
    lines = text.split('\n')
    translations = []

    # Translate each line
    for line in lines:
        inputs = tokenizer(line, return_tensors="pt", padding=True)
        translated_tokens = model.generate(**inputs, forced_bos_token_id=tokenizer.lang_code_to_id["en_XX"])
        translation = tokenizer.decode(translated_tokens[0], skip_special_tokens=True)
        translations.append(translation)
    
    # Join the translated lines with newline characters
    return '\n'.join(translations)

# Example Telugu text with multiple lines
te_text = """దాదాపు అన్ని రంగాల్లో ప్రపంచంలోని అగ్ర దేశాలతో పోటీపడుతున్న భారత్ ను నిరుద్యోగ సమస్య ఇప్పటికీ పీడిస్తూనే ఉంది.
 కేంద్ర, రాష్ట్ర ప్రభుత్వాలు ఎన్నో చర్యలను తీసుకుంటున్నప్పటికీ నిరుద్యోగులకు పూర్తి స్థాయిలో ఉద్యోగాలను కల్పించలేకపోతున్నాయి.
  ఉన్నత విద్యలను అభ్యసించిన ఎందరో నిరుద్యోగులుగా మిగిలిపోతున్న సంగతి మనందరికీ తెలిసిందే. 
  చదువుకు తగ్గ అవకాశాలు లేకపోవడం దీనికి ఒక కారణమయితే...
   సరైన నైపుణ్యాలు లేకపోవడం కూడా మరో కారణం. ఎందరో విద్యార్థులు, నిరుద్యోగులకు అసలు ఎలాంటి ఉద్యోగావకాశాలు ఉన్నాయో కూడా తెలియని పరిస్థితి ఉంది. 
   130 కోట్ల జనాభా కలిగిన భారత్ లో మూడింట రెండు వంతుల మంది 35 ఏళ్ల లోపు వారే కావడం గమనార్హం.ఈ నేపథ్యంలో ఎన్నో ప్రముఖ సంస్థలు నిరుద్యోగులకు చేయూతను అందించడానికి తమ వంతు కృషి చేస్తున్నాయి. 
   వీటిలో టాటా గ్రూపు కూడా ఒకటి. 'టాటా స్ట్రైవ్' పేరుతో ఆ సంస్థ నిరుద్యోగుల పాలిట వరప్రదాయినిగా మారింది. 
   విద్యార్థులకు, నిరుద్యోగులకు ఉచితంగా సర్టిఫికెట్ కోర్సుల్లో ట్రైనింగ్ ఇస్తూ, వారికి ప్లేస్ మెంట్లను కూడా కల్పిస్తోంది.
    దేశ వ్యాప్తంగా నెలకొల్పిన టాటా స్ట్రైవ్ క్యాంపస్ లలో వేలాది మంది తమ కోర్సులను పూర్తి చేసుకుని ప్రముఖ సంస్థల్లో ఉద్యోగాలు చేస్తున్నారు.
     అయితే, ఈ సంస్థ గురించి చాలా మందికి తెలియకపోవడం గమనార్హం. 
     అందరికీ ఈ గొప్ప అవకాశం గురించి తెలియజేయడం కోసమే ap7am.com ఈ ప్రత్యేక కథనాన్ని అందిస్తోంది. ప్రతి ఒక్కరూ ఈ అవకాశం గురించి తమ సొంత వ్యక్తులకే కాకుండా...
      తెలిసిన వారికి, నిరుద్యోగులకు వివరించి, వారి ఉజ్వల భవిష్యత్తుకు సహకరిస్తారని ఆశిస్తున్నాం.హైదరాబాద్ తో పాటు అలీగఢ్, నాసిక్, మొహాలీ, ముంబై, పూణేల్లో టాటాస్ట్రైవ్ సెంటర్లు ఉన్నాయి.
       వీటితో పాటు పలు చోట్ల ఎక్స్ టెన్షన్ సెంటర్లు, పార్ట్ నర్ సెంటర్లను నెలకొల్పారు. హైదరాబాదులోని కేపీహెచ్ బీ కాలనీలో ఉన్న సెంటర్ లో బీపీవో కాల్ సెంటర్ ఎగ్జిక్యూటివ్, బిజినెస్ డెవెలప్ మెంట్ ఎగ్జిక్యూటివ్, ఫుడ్ అండ్ బివరేజర్ సర్వీస్ స్టీవార్డ్, హౌస్ కీపింగ్ ఆపరేషన్స్, అసిస్టెంట్ ఎలక్ట్రీషియన్, ఆటొమొబైల్ సేల్స్ కన్సల్టెంట్, క్విక్ సర్వీస్ రెస్టారెంట్ అసోసియేట్, రీటెయిల్ సేల్స్ అసోసియేట్, మల్టీ క్యుజిన్ కుక్, బ్యూటీ అడ్వైజర్, జనరల్ డ్యూటీ అసిస్టెంట్ (నర్సింగ్) కోర్సుల్లో శిక్షణ ఇస్తున్నారు.
        4 వారాల నుంచి 17 వారాల వరకు కొనసాగే ఈ కోర్సులను టాటా స్ట్రైవ్ ఉచితంగా అందిస్తోంది. 
        ఆ తర్వాత వీరందరికీ అత్యున్నత బ్రాండ్ కంపెనీల్లో ప్లేస్ మెంట్లు పొందేందుకు సహకరిస్తోంది. 
        ఇక్కడ శిక్షణ పొందిన విద్యార్థులందరూ దాదాపుగా ఉద్యోగాలు పొందారు. స్టార్ హోటళ్లు, టాప్ బ్రాండెడ్ కంపెనీల్లో పని చేస్తున్నారు.
"""

en_translation = translate(te_text)
print("Translation:", en_translation)
